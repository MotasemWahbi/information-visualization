
<!DOCTYPE html>


<html lang="en" data-content_root="../../../../../../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Nokogiri &#8212; Jupyter Book Template</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../../../../../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../../../../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../../../../../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../../../../../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../../../../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../../../../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../../../../../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../../../../../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../../../../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../../../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../../../../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../../../../../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../../../../../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../../../../../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../../../../../../_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../../../../../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'usr/lib/ruby/gems/2.6.0/gems/nokogiri-1.13.8/README';</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <link rel="index" title="Index" href="../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../../../../../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../../../../../../../docs/home.html">
  
  
  
  
  
  
    <p class="title logo__title">Jupyter Book Template</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../../../../../../../docs/home.html">
                    Jupyter Book Tutorial
                </a>
            </li>
        </ul>
        <ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../../../../../../../docs/notebook.html">Example Notebook</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/yenchiah/jupyter-book-template" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/yenchiah/jupyter-book-template/issues/new?title=Issue%20on%20page%20%2Fusr/lib/ruby/gems/2.6.0/gems/nokogiri-1.13.8/README.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../../../../../../_sources/usr/lib/ruby/gems/2.6.0/gems/nokogiri-1.13.8/README.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Nokogiri</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#guiding-principles">Guiding Principles</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features-overview">Features Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#status">Status</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#support-getting-help-and-reporting-issues">Support, Getting Help, and Reporting Issues</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading">Reading</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ask-for-help">Ask For Help</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#report-a-bug">Report A Bug</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#security-and-vulnerability-reporting">Security and Vulnerability Reporting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#semantic-versioning-policy">Semantic Versioning Policy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#native-gems-faster-more-reliable-installation">Native Gems: Faster, more reliable installation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supported-platforms">Supported Platforms</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-installation-options">Other Installation Options</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-use-nokogiri">How To Use Nokogiri</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parsing-and-querying">Parsing and Querying</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding">Encoding</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#technical-overview">Technical Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Guiding Principles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cruby">CRuby</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jruby">JRuby</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contributing">Contributing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#code-of-conduct">Code of Conduct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#license">License</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#authors">Authors</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <div><img src="https://nokogiri.org/images/nokogiri-serif-black.png" align="right"/></div>
<section class="tex2jax_ignore mathjax_ignore" id="nokogiri">
<h1>Nokogiri<a class="headerlink" href="#nokogiri" title="Link to this heading">#</a></h1>
<p>Nokogiri (鋸) makes it easy and painless to work with XML and HTML from Ruby. It provides a sensible, easy-to-understand API for <a class="reference external" href="https://nokogiri.org/tutorials/parsing_an_html_xml_document.html">reading</a>, writing, <a class="reference external" href="https://nokogiri.org/tutorials/modifying_an_html_xml_document.html">modifying</a>, and <a class="reference external" href="https://nokogiri.org/tutorials/searching_a_xml_html_document.html">querying</a> documents. It is fast and standards-compliant by relying on native parsers like libxml2 (CRuby) and xerces (JRuby).</p>
<section id="guiding-principles">
<h2>Guiding Principles<a class="headerlink" href="#guiding-principles" title="Link to this heading">#</a></h2>
<p>Some guiding principles Nokogiri tries to follow:</p>
<ul class="simple">
<li><p>be secure-by-default by treating all documents as <strong>untrusted</strong> by default</p></li>
<li><p>be a <strong>thin-as-reasonable layer</strong> on top of the underlying parsers, and don’t attempt to fix behavioral differences between the parsers</p></li>
</ul>
</section>
<section id="features-overview">
<h2>Features Overview<a class="headerlink" href="#features-overview" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>DOM Parser for XML, HTML4, and HTML5</p></li>
<li><p>SAX Parser for XML and HTML4</p></li>
<li><p>Push Parser for XML and HTML4</p></li>
<li><p>Document search via XPath 1.0</p></li>
<li><p>Document search via CSS3 selectors, with some jquery-like extensions</p></li>
<li><p>XSD Schema validation</p></li>
<li><p>XSLT transformation</p></li>
<li><p>“Builder” DSL for XML and HTML documents</p></li>
</ul>
</section>
<section id="status">
<h2>Status<a class="headerlink" href="#status" title="Link to this heading">#</a></h2>
<p><a class="reference external" href="https://github.com/sparklemotion/nokogiri/actions/workflows/ci.yml"><img alt="Github Actions CI" src="https://github.com/sparklemotion/nokogiri/actions/workflows/ci.yml/badge.svg?branch=main" /></a>
<a class="reference external" href="https://ci.appveyor.com/project/flavorjones/nokogiri/branch/main"><img alt="Appveyor CI" src="https://ci.appveyor.com/api/projects/status/xj2pqwvlxwuwgr06/branch/main?svg=true" /></a></p>
<p><a class="reference external" href="https://rubygems.org/gems/nokogiri"><img alt="Gem Version" src="https://badge.fury.io/rb/nokogiri.svg" /></a>
<a class="reference external" href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates#about-compatibility-scores"><img alt="SemVer compatibility" src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&amp;package-manager=bundler&amp;previous-version=1.11.7&amp;new-version=1.12.5" /></a></p>
<p><a class="reference external" href="https://bestpractices.coreinfrastructure.org/projects/5344"><img alt="CII Best Practices" src="https://bestpractices.coreinfrastructure.org/projects/5344/badge" /></a>
<a class="reference external" href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;amp;utm_medium=referral&amp;amp;utm_campaign=readme"><img alt="Tidelift dependencies" src="https://tidelift.com/badges/package/rubygems/nokogiri" /></a></p>
</section>
<section id="support-getting-help-and-reporting-issues">
<h2>Support, Getting Help, and Reporting Issues<a class="headerlink" href="#support-getting-help-and-reporting-issues" title="Link to this heading">#</a></h2>
<p>All official documentation is posted at <a class="reference external" href="https://nokogiri.org">https://nokogiri.org</a> (the source for which is at <a class="github reference external" href="https://github.com/sparklemotion/nokogiri.org/">sparklemotion/nokogiri.org</a>, and we welcome contributions).</p>
<p>Consider subscribing to <a class="reference external" href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;amp;utm_medium=referral&amp;amp;utm_campaign=readme">Tidelift</a> which provides license assurances and timely security notifications for your open source dependencies, including Nokogiri. <a class="reference external" href="https://tidelift.com/subscription/pkg/rubygems-nokogiri?utm_source=rubygems-nokogiri&amp;amp;utm_medium=referral&amp;amp;utm_campaign=readme">Tidelift</a> subscriptions also help the Nokogiri maintainers fund our <a class="reference external" href="https://ci.nokogiri.org">automated testing</a> which in turn allows us to ship releases, bugfixes, and security updates more often.</p>
<section id="reading">
<h3>Reading<a class="headerlink" href="#reading" title="Link to this heading">#</a></h3>
<p>Your first stops for learning more about Nokogiri should be:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://nokogiri.org/rdoc/index.html">API Documentation</a></p></li>
<li><p><a class="reference external" href="https://nokogiri.org/tutorials/toc.html">Tutorials</a></p></li>
<li><p>An excellent community-maintained <a class="reference external" href="https://github.com/sparklemotion/nokogiri/wiki/Cheat-sheet">Cheat Sheet</a></p></li>
</ul>
</section>
<section id="ask-for-help">
<h3>Ask For Help<a class="headerlink" href="#ask-for-help" title="Link to this heading">#</a></h3>
<p>There are a few ways to ask exploratory questions:</p>
<ul class="simple">
<li><p>The Ruby Discord chat server is active at <a class="reference external" href="https://discord.gg/UyQnKrT">https://discord.gg/UyQnKrT</a></p></li>
<li><p>The Nokogiri mailing list is active at <a class="reference external" href="https://groups.google.com/group/nokogiri-talk">https://groups.google.com/group/nokogiri-talk</a></p></li>
<li><p>Open an issue using the “Help Request” template at <a class="github reference external" href="https://github.com/sparklemotion/nokogiri/issues">sparklemotion/nokogiri#issues</a></p></li>
</ul>
<p>Please do not mail the maintainers at their personal addresses.</p>
</section>
<section id="report-a-bug">
<h3>Report A Bug<a class="headerlink" href="#report-a-bug" title="Link to this heading">#</a></h3>
<p>The Nokogiri bug tracker is at <a class="github reference external" href="https://github.com/sparklemotion/nokogiri/issues">sparklemotion/nokogiri#issues</a></p>
<p>Please use the “Bug Report” or “Installation Difficulties” templates.</p>
</section>
<section id="security-and-vulnerability-reporting">
<h3>Security and Vulnerability Reporting<a class="headerlink" href="#security-and-vulnerability-reporting" title="Link to this heading">#</a></h3>
<p>Please report vulnerabilities at <a class="reference external" href="https://hackerone.com/nokogiri">https://hackerone.com/nokogiri</a></p>
<p>Full information and description of our security policy is in <a class="reference internal" href="#SECURITY.md"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">SECURITY.md</span></code></span></a></p>
</section>
<section id="semantic-versioning-policy">
<h3>Semantic Versioning Policy<a class="headerlink" href="#semantic-versioning-policy" title="Link to this heading">#</a></h3>
<p>Nokogiri follows <a class="reference external" href="https://semver.org/">Semantic Versioning</a> (since 2017 or so). <a class="reference external" href="https://docs.github.com/en/code-security/supply-chain-security/managing-vulnerabilities-in-your-projects-dependencies/about-dependabot-security-updates#about-compatibility-scores"><img alt="Dependabot's SemVer compatibility score for Nokogiri" src="https://dependabot-badges.githubapp.com/badges/compatibility_score?dependency-name=nokogiri&amp;package-manager=bundler&amp;previous-version=1.11.7&amp;new-version=1.12.5" /></a></p>
<p>We bump <code class="docutils literal notranslate"><span class="pre">Major.Minor.Patch</span></code> versions following this guidance:</p>
<p><code class="docutils literal notranslate"><span class="pre">Major</span></code>: (we’ve never done this)</p>
<ul class="simple">
<li><p>Significant backwards-incompatible changes to the public API that would require rewriting existing application code.</p></li>
<li><p>Some examples of backwards-incompatible changes we might someday consider for a Major release are at <a class="reference internal" href="#ROADMAP.md"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">ROADMAP.md</span></code></span></a>.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Minor</span></code>:</p>
<ul class="simple">
<li><p>Features and bugfixes.</p></li>
<li><p>Updating packaged libraries for non-security-related reasons.</p></li>
<li><p>Dropping support for EOLed Ruby versions. <a class="reference external" href="https://github.com/sparklemotion/nokogiri/issues/1568">Some folks find this objectionable</a>, but <a class="reference external" href="https://semver.org/#what-should-i-do-if-i-update-my-own-dependencies-without-changing-the-public-api">SemVer says this is OK if the public API hasn’t changed</a>.</p></li>
<li><p>Backwards-incompatible changes to internal or private methods and constants. These are detailed in the “Changes” section of each changelog entry.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">Patch</span></code>:</p>
<ul class="simple">
<li><p>Bugfixes.</p></li>
<li><p>Security updates.</p></li>
<li><p>Updating packaged libraries for security-related reasons.</p></li>
</ul>
</section>
</section>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Link to this heading">#</a></h2>
<p>Requirements:</p>
<ul class="simple">
<li><p>Ruby &gt;= 2.6</p></li>
<li><p>JRuby &gt;= 9.3.0.0</p></li>
</ul>
<section id="native-gems-faster-more-reliable-installation">
<h3>Native Gems: Faster, more reliable installation<a class="headerlink" href="#native-gems-faster-more-reliable-installation" title="Link to this heading">#</a></h3>
<p>“Native gems” contain pre-compiled libraries for a specific machine architecture. On supported platforms, this removes the need for compiling the C extension and the packaged libraries, or for system dependencies to exist. This results in <strong>much faster installation</strong> and <strong>more reliable installation</strong>, which as you probably know are the biggest headaches for Nokogiri users.</p>
</section>
<section id="supported-platforms">
<h3>Supported Platforms<a class="headerlink" href="#supported-platforms" title="Link to this heading">#</a></h3>
<p>Nokogiri ships pre-compiled, “native” gems for the following platforms:</p>
<ul class="simple">
<li><p>Linux: <code class="docutils literal notranslate"><span class="pre">x86-linux</span></code> and <code class="docutils literal notranslate"><span class="pre">x86_64-linux</span></code> (req: <code class="docutils literal notranslate"><span class="pre">glibc</span> <span class="pre">&gt;=</span> <span class="pre">2.17</span></code>), including musl platforms like Alpine</p></li>
<li><p>Darwin/MacOS: <code class="docutils literal notranslate"><span class="pre">x86_64-darwin</span></code> and <code class="docutils literal notranslate"><span class="pre">arm64-darwin</span></code></p></li>
<li><p>Windows: <code class="docutils literal notranslate"><span class="pre">x86-mingw32</span></code> and <code class="docutils literal notranslate"><span class="pre">x64-mingw32</span></code></p></li>
<li><p>Java: any platform running JRuby 9.3 or higher</p></li>
</ul>
<p>To determine whether your system supports one of these gems, look at the output of <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">platform</span></code> or <code class="docutils literal notranslate"><span class="pre">ruby</span> <span class="pre">-e</span> <span class="pre">'puts</span> <span class="pre">Gem::Platform.local.to_s'</span></code>.</p>
<p>If you’re on a supported platform, either <code class="docutils literal notranslate"><span class="pre">gem</span> <span class="pre">install</span></code> or <code class="docutils literal notranslate"><span class="pre">bundle</span> <span class="pre">install</span></code> should install a native gem without any additional action on your part. This installation should only take a few seconds, and your output should look something like:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>gem<span class="w"> </span>install<span class="w"> </span>nokogiri
Fetching<span class="w"> </span>nokogiri-1.11.0-x86_64-linux.gem
Successfully<span class="w"> </span>installed<span class="w"> </span>nokogiri-1.11.0-x86_64-linux
<span class="m">1</span><span class="w"> </span>gem<span class="w"> </span>installed
</pre></div>
</div>
</section>
<section id="other-installation-options">
<h3>Other Installation Options<a class="headerlink" href="#other-installation-options" title="Link to this heading">#</a></h3>
<p>Because Nokogiri is a C extension, it requires that you have a C compiler toolchain, Ruby development header files, and some system dependencies installed.</p>
<p>The following may work for you if you have an appropriately-configured system:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gem<span class="w"> </span>install<span class="w"> </span>nokogiri
</pre></div>
</div>
<p>If you have any issues, please visit <a class="reference external" href="https://nokogiri.org/tutorials/installing_nokogiri.html">Installing Nokogiri</a> for more complete instructions and troubleshooting.</p>
</section>
</section>
<section id="how-to-use-nokogiri">
<h2>How To Use Nokogiri<a class="headerlink" href="#how-to-use-nokogiri" title="Link to this heading">#</a></h2>
<p>Nokogiri is a large library, and so it’s challenging to briefly summarize it. We’ve tried to provide long, real-world examples at <a class="reference external" href="https://nokogiri.org/tutorials/toc.html">Tutorials</a>.</p>
<section id="parsing-and-querying">
<h3>Parsing and Querying<a class="headerlink" href="#parsing-and-querying" title="Link to this heading">#</a></h3>
<p>Here is example usage for parsing and querying a document:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="ch">#! /usr/bin/env ruby</span>

<span class="nb">require</span><span class="w"> </span><span class="s1">&#39;nokogiri&#39;</span>
<span class="nb">require</span><span class="w"> </span><span class="s1">&#39;open-uri&#39;</span>

<span class="c1"># Fetch and parse HTML document</span>
<span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Nokogiri</span><span class="o">::</span><span class="no">HTML</span><span class="p">(</span><span class="no">URI</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s1">&#39;https://nokogiri.org/tutorials/installing_nokogiri.html&#39;</span><span class="p">))</span>

<span class="c1"># Search for nodes by css</span>
<span class="n">doc</span><span class="o">.</span><span class="n">css</span><span class="p">(</span><span class="s1">&#39;nav ul.menu li a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;article h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">link</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="n">content</span>
<span class="k">end</span>

<span class="c1"># Search for nodes by xpath</span>
<span class="n">doc</span><span class="o">.</span><span class="n">xpath</span><span class="p">(</span><span class="s1">&#39;//nav//ul//li/a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;//article//h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">link</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="n">content</span>
<span class="k">end</span>

<span class="c1"># Or mix and match</span>
<span class="n">doc</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;nav ul.menu li a&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;//article//h2&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="o">|</span><span class="n">link</span><span class="o">|</span>
<span class="w">  </span><span class="nb">puts</span><span class="w"> </span><span class="n">link</span><span class="o">.</span><span class="n">content</span>
<span class="k">end</span>
</pre></div>
</div>
</section>
<section id="encoding">
<h3>Encoding<a class="headerlink" href="#encoding" title="Link to this heading">#</a></h3>
<p>Strings are always stored as UTF-8 internally.  Methods that return
text values will always return UTF-8 encoded strings.  Methods that
return a string containing markup (like <code class="docutils literal notranslate"><span class="pre">to_xml</span></code>, <code class="docutils literal notranslate"><span class="pre">to_html</span></code> and
<code class="docutils literal notranslate"><span class="pre">inner_html</span></code>) will return a string encoded like the source document.</p>
<p><strong>WARNING</strong></p>
<p>Some documents declare one encoding, but actually use a different
one. In these cases, which encoding should the parser choose?</p>
<p>Data is just a stream of bytes. Humans add meaning to that stream. Any
particular set of bytes could be valid characters in multiple
encodings, so detecting encoding with 100% accuracy is not
possible. <code class="docutils literal notranslate"><span class="pre">libxml2</span></code> does its best, but it can’t be right all the time.</p>
<p>If you want Nokogiri to handle the document encoding properly, your
best bet is to explicitly set the encoding.  Here is an example of
explicitly setting the encoding to EUC-JP on the parser:</p>
<div class="highlight-ruby notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="n">doc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="no">Nokogiri</span><span class="o">.</span><span class="n">XML</span><span class="p">(</span><span class="s1">&#39;&lt;foo&gt;&lt;bar /&gt;&lt;/foo&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="kp">nil</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;EUC-JP&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="technical-overview">
<h2>Technical Overview<a class="headerlink" href="#technical-overview" title="Link to this heading">#</a></h2>
<section id="id1">
<h3>Guiding Principles<a class="headerlink" href="#id1" title="Link to this heading">#</a></h3>
<p>As noted above, two guiding principles of the software are:</p>
<ul class="simple">
<li><p>be secure-by-default by treating all documents as <strong>untrusted</strong> by default</p></li>
<li><p>be a <strong>thin-as-reasonable layer</strong> on top of the underlying parsers, and don’t attempt to fix behavioral differences between the parsers</p></li>
</ul>
<p>Notably, despite all parsers being standards-compliant, there are behavioral inconsistencies between the parsers used in the CRuby and JRuby implementations, and Nokogiri does not and should not attempt to remove these inconsistencies. Instead, we surface these differences in the test suite when they are important/semantic; or we intentionally write tests to depend only on the important/semantic bits (omitting whitespace from regex matchers on results, for example).</p>
</section>
<section id="cruby">
<h3>CRuby<a class="headerlink" href="#cruby" title="Link to this heading">#</a></h3>
<p>The Ruby (a.k.a., CRuby, MRI, YARV) implementation is a C extension that depends on libxml2 and libxslt (which in turn depend on zlib and possibly libiconv).</p>
<p>These dependencies are met by default by Nokogiri’s packaged versions of the libxml2 and libxslt source code, but a configuration option <code class="docutils literal notranslate"><span class="pre">--use-system-libraries</span></code> is provided to allow specification of alternative library locations. See <a class="reference external" href="https://nokogiri.org/tutorials/installing_nokogiri.html">Installing Nokogiri</a> for full documentation.</p>
<p>We provide native gems by pre-compiling libxml2 and libxslt (and potentially zlib and libiconv) and packaging them into the gem file. In this case, no compilation is necessary at installation time, which leads to faster and more reliable installation.</p>
<p>See <a class="reference internal" href="LICENSE-DEPENDENCIES.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">LICENSE-DEPENDENCIES.md</span></code></span></a> for more information on which dependencies are provided in which native and source gems.</p>
</section>
<section id="jruby">
<h3>JRuby<a class="headerlink" href="#jruby" title="Link to this heading">#</a></h3>
<p>The Java (a.k.a. JRuby) implementation is a Java extension that depends primarily on Xerces and NekoHTML for parsing, though additional dependencies are on <code class="docutils literal notranslate"><span class="pre">isorelax</span></code>, <code class="docutils literal notranslate"><span class="pre">nekodtd</span></code>, <code class="docutils literal notranslate"><span class="pre">jing</span></code>, <code class="docutils literal notranslate"><span class="pre">serializer</span></code>, <code class="docutils literal notranslate"><span class="pre">xalan-j</span></code>, and <code class="docutils literal notranslate"><span class="pre">xml-apis</span></code>.</p>
<p>These dependencies are provided by pre-compiled jar files packaged in the <code class="docutils literal notranslate"><span class="pre">java</span></code> platform gem.</p>
<p>See <a class="reference internal" href="LICENSE-DEPENDENCIES.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">LICENSE-DEPENDENCIES.md</span></code></span></a> for more information on which dependencies are provided in which native and source gems.</p>
</section>
</section>
<section id="contributing">
<h2>Contributing<a class="headerlink" href="#contributing" title="Link to this heading">#</a></h2>
<p>See <a class="reference internal" href="#CONTRIBUTING.md"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">CONTRIBUTING.md</span></code></span></a> for an intro guide to developing Nokogiri.</p>
</section>
<section id="code-of-conduct">
<h2>Code of Conduct<a class="headerlink" href="#code-of-conduct" title="Link to this heading">#</a></h2>
<p>We’ve adopted the Contributor Covenant code of conduct, which you can read in full in <a class="reference internal" href="#CODE_OF_CONDUCT.md"><span class="xref myst"><code class="docutils literal notranslate"><span class="pre">CODE_OF_CONDUCT.md</span></code></span></a>.</p>
</section>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Link to this heading">#</a></h2>
<p>This project is licensed under the terms of the MIT license.</p>
<p>See this license at <a class="reference internal" href="LICENSE.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">LICENSE.md</span></code></span></a>.</p>
<section id="dependencies">
<h3>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading">#</a></h3>
<p>Some additional libraries may be distributed with your version of Nokogiri. Please see <a class="reference internal" href="LICENSE-DEPENDENCIES.html"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">LICENSE-DEPENDENCIES.md</span></code></span></a> for a discussion of the variations as well as the licenses thereof.</p>
</section>
</section>
<section id="authors">
<h2>Authors<a class="headerlink" href="#authors" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Mike Dalessio</p></li>
<li><p>Aaron Patterson</p></li>
<li><p>Yoko Harada</p></li>
<li><p>Akinori MUSHA</p></li>
<li><p>John Shahid</p></li>
<li><p>Karol Bucek</p></li>
<li><p>Sam Ruby</p></li>
<li><p>Craig Barnes</p></li>
<li><p>Stephen Checkoway</p></li>
<li><p>Lars Kanis</p></li>
<li><p>Sergio Arbeo</p></li>
<li><p>Timothy Elliott</p></li>
<li><p>Nobuyoshi Nakada</p></li>
</ul>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./usr/lib/ruby/gems/2.6.0/gems/nokogiri-1.13.8"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#guiding-principles">Guiding Principles</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#features-overview">Features Overview</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#status">Status</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#support-getting-help-and-reporting-issues">Support, Getting Help, and Reporting Issues</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#reading">Reading</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ask-for-help">Ask For Help</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#report-a-bug">Report A Bug</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#security-and-vulnerability-reporting">Security and Vulnerability Reporting</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#semantic-versioning-policy">Semantic Versioning Policy</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#installation">Installation</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#native-gems-faster-more-reliable-installation">Native Gems: Faster, more reliable installation</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#supported-platforms">Supported Platforms</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#other-installation-options">Other Installation Options</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#how-to-use-nokogiri">How To Use Nokogiri</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#parsing-and-querying">Parsing and Querying</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#encoding">Encoding</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#technical-overview">Technical Overview</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Guiding Principles</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#cruby">CRuby</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#jruby">JRuby</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#contributing">Contributing</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#code-of-conduct">Code of Conduct</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#license">License</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#dependencies">Dependencies</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#authors">Authors</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Yen-Chia Hsu
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../../../../../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../../../../../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>